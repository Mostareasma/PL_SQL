1 conn system/1234
2 create user asmamostare identified by test quota unlimited on system;
3 grant create session, create table , create procedure, create database link, create trigger to asmaMostare;
4 disc
 conn asmamostare/test
5 create database link lienProf using 'xe';
6 grant create synonym to asmaMostare;
 create table empLocal as select * from mustapha.emp@lienprof where 1=2;
7

create or replace trigger insertion
after insert on empLocal
for each row
begin
insert into mustapha.emp@lienprof values (:new.nemp , :new.nom, :new.prenom , :new.salaire , :new.ndept);
end;
/
 
8
create or replace trigger suppretion
after delete on empLocal
for each row
begin
DELETE FROM mustapha.emp@lienprof WHERE nom= :old.nom;
end;
/

9
create or replace trigger modification
after update on empLocal
for each row
begin
UPDATE mustapha.emp@lienprof
SET nom = :new.nom ,prenom =  :new.prenom , salaire= :new.salaire , ndept= :new.ndept
WHERE nom= :old.nom;
end;
/
10
create or replace trigger general
after
insert or update or delete on empLocal
for each row
begin
if inserting then
insert into mustapha.emp@lienprof values (:new.nemp,:new.nom,:new.prenom,:new.salaire,:new.ndept);
elsif deleting then
DELETE FROM mustapha.emp@lienprof WHERE nom=:old.nom;
elsif updating then
UPDATE mustapha.emp@lienprof
SET nom=:new.nom,prenom=:new.prenom,salaire=:new.salaire,ndept=:new.ndept
WHERE nom=:old.nom;
end if;
end;
/

11
 SELECT * FROM mustapha.emp@lienprof union SELECT * FROM empLocal;
 
 
